<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<script src="../src/index.js" type="module"></script>
	<style>
		.container {
			display: grid;
			grid-template-areas:
				"header header"
				"sidebar content";
		}

		.header {
			grid-area: header;
			text-align: center;
		}

		.sidebar {
			grid-area: sidebar;
			max-width: 50%;
		}

		.sidebar h3 {
			text-align: center;
		}

		.content {
			grid-area: content;
		}

		form {
			display: grid;
			grid-template-columns: max-content 1fr;
		}

		form label {
			margin-left: 1em;
			margin-right: 1em;
		}

		form input {
			/*border: 1px solid blue;*/
			max-width: 5em;
		}

		form .section {
			grid-column: span 2;
			font-weight: bold;
		}
	</style>
</head>



<body>

	<div class="container">
		<div class="header">
			<h2>&lt;ws-clock&gt; Demo</h2>
		</div>
		<div class="sidebar">
			<h3>Settings</h3>
			<form id="clock-settings">
				<div class="section">Attributes</div>
				<div>
					<label for="offset">Offset (in minutes)</label>
				</div>
				<div><input id="offset" type="number" step="15" value="0"/></div>
				<div>
					<label for="digital">Digital</label>
				</div>
				<div><input id="digital" type="checkbox"/></div>
				<div class="section">Style</div>
				<div>
					<label for="--clock-size">Size</label>
				</div>
				<div><input id="--clock-size" type="text" value="20em"/></div>
				<div><label for="--dial-fill">Dial Color</label></div>
				<div><input id="--dial-fill" type="color"/></div>
				<div><label for="--frame-fill">Frame Color</label></div>
				<div><input id="--frame-fill" type="color"/></div>
				<div><label for="--marker-fill">Marker Color</label></div>
				<div><input id="--marker-fill" type="color"/></div>
				<div><label for="--hour-hand-fill">Hour Hand Color</label></div>
				<div><input id="--hour-hand-fill" type="color"/></div>
				<div><label for="--minute-hand-fill">Minute Hand Color</label></div>
				<div><input id="--minute-hand-fill" type="color"/></div>
				<div><label for="--second-hand-fill">Second Hand Color</label></div>
				<div><input id="--second-hand-fill" type="color"/></div>
				<div><label for="--text-color">Text Color</label></div>
				<div><input id="--text-color" type="color"/></div>
			</form>
		</div>
		<div class="content">
			<wc-clock id="wc-clock" style="--clock-size:20em">
				<h3>Budapest (CET)</h3>
			</wc-clock>
		</div>
	</div>

	<script>
		function settingsChanged( event ){
			//console.log( typeof event.target.value );
			const clock = document.getElementById( 'wc-clock' );
			switch ( event.target.id ){
				case 'offset':
					if ( event.target.value == '' ) event.target.value = '0';
					if ( parseInt( event.target.value ) % 15 != 0 ) return false;
					clock.setAttribute( event.target.id, event.target.value );
					break;
				case 'digital':
					if ( event.target.checked ){
						clock.setAttribute( 'digital', '' );
					} else {
						clock.removeAttribute( 'digital' );
					}
					break;
				case '--clock-size':
				case '--dial-fill':
				case '--frame-fill':
				case '--marker-fill':
				case '--hour-hand-fill':
				case '--minute-hand-fill':
				case '--second-hand-fill':
				case '--text-color':
					clock.style.setProperty( event.target.id, event.target.value );
			}
		}

		function settingsSubmit( event ){
			event.preventDefault();
		}

		console.log( 'settingsForm' );
		const settingsForm = document.getElementById( 'clock-settings' );
		settingsForm.addEventListener( 'change', settingsChanged );
		settingsForm.addEventListener( 'submit', settingsSubmit );
	</script>
</body>

</html>